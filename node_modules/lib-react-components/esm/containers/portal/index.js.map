{"version":3,"sources":["../../../src/containers/portal/index.jsx"],"names":["React","Component","ReactDOM","PropTypes","ownerDocument","node","document","getContainer","container","defaultContainer","findDOMNode","getOwnerDocument","element","Portal","getMountNode","mountNode","props","onRendered","setContainer","forceUpdate","prevProps","body","children","createPortal","propTypes","isRequired","oneOfType","object","func","instanceOf","HTMLElement","defaultProps"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAA0C;AAC1C,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,SAAQA,QAAQA,KAAKD,aAAd,IAAgCE,QAAvC;AACD;;AAED,SAASC,YAAT,CAAsBC,SAAtB,EAAiCC,gBAAjC,EAAmD;AACjDD,cAAY,OAAOA,SAAP,KAAqB,UAArB,GAAkCA,WAAlC,GAAgDA,SAA5D;;AAEA,SAAON,SAASQ,WAAT,CAAqBF,SAArB,KAAmCC,gBAA1C;AACD;;AAED,SAASE,gBAAT,CAA0BC,OAA1B,EAAmC;AACjC,SAAOR,cAAcF,SAASQ,WAAT,CAAqBE,OAArB,CAAd,CAAP;AACD;;AAED;;;;IAGqBC,M;;;;;;;;;;;;;;sLAmDnBC,Y,GAAe;AAAA,aAAM,MAAKC,SAAX;AAAA,K;;;;;wCAxBK;AAAA,mBACgB,KAAKC,KADrB;AAAA,UACVR,SADU,UACVA,SADU;AAAA,UACCS,UADD,UACCA,UADD;;;AAGlB,WAAKC,YAAL,CAAkBV,SAAlB;AACA,WAAKW,WAAL,CAAiBF,UAAjB;AACD;;;uCAEkBG,S,EAAW;AAAA,UACpBZ,SADoB,GACN,KAAKQ,KADC,CACpBR,SADoB;;;AAG5B,UAAIY,UAAUZ,SAAV,KAAwBA,SAA5B,EAAuC;AACrC,aAAKU,YAAL,CAAkBV,SAAlB;AACA,aAAKW,WAAL;AACD;AACF;;;2CAEsB;AACrB,WAAKJ,SAAL,GAAiB,IAAjB;AACD;;;iCAEYP,S,EAAW;AACtB,WAAKO,SAAL,GAAiBR,aAAaC,SAAb,EAAwBG,iBAAiB,IAAjB,EAAuBU,IAA/C,CAAjB;AACD;;;6BAIQ;AAAA,UACCC,QADD,GACc,KAAKN,KADnB,CACCM,QADD;;;AAGP,aAAO,KAAKP,SAAL,GAAiBb,SAASqB,YAAT,CAAsBD,QAAtB,EAAgC,KAAKP,SAArC,CAAjB,GAAmE,IAA1E;AACD;;;;EAzDiCd,S;;AAAfY,M,CACZW,S,GAAY;AACjB;;;AAGAF,YAAUnB,UAAUE,IAAV,CAAeoB,UAJR;AAKjB;;;;;;AAMAjB,aAAWL,UAAUuB,SAAV,CAAoB,CAAE;AAC/BvB,YAAUwB,MADmB,EAE7BxB,UAAUyB,IAFmB,EAG7BzB,UAAU0B,UAAV,CAAqBC,WAArB,CAH6B,CAApB,CAXM;AAgBjB;;;AAGAb,cAAYd,UAAUyB;AAnBL,C;AADAf,M,CAuBZkB,Y,GAAe;AACpBd,YADoB,wBACP,CAAE;AADK,C;eAvBHJ,M","file":"index.js","sourcesContent":["/* eslint react/no-find-dom-node: 1 */\nimport React, { Component } from 'react'; // eslint-disable-line\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nfunction ownerDocument(node) {\n  return (node && node.ownerDocument) || document;\n}\n\nfunction getContainer(container, defaultContainer) {\n  container = typeof container === 'function' ? container() : container;\n\n  return ReactDOM.findDOMNode(container) || defaultContainer;\n}\n\nfunction getOwnerDocument(element) {\n  return ownerDocument(ReactDOM.findDOMNode(element));\n}\n\n/**\n * Portal component\n */\nexport default class Portal extends Component {\n  static propTypes = {\n    /**\n     * The children to render into the `container`.\n     */\n    children: PropTypes.node.isRequired,\n    /**\n     * A node, component instance, or function that returns either.\n     * The `container` will have the portal children appended to it.\n     * By default, it uses the body of the top-level document object,\n     * so it's simply `document.body` most of the time.\n     */\n    container: PropTypes.oneOfType([ // eslint-disable-line\n      PropTypes.object,\n      PropTypes.func,\n      PropTypes.instanceOf(HTMLElement),\n    ]),\n    /**\n     * Callback fired once the children has been mounted into the `container`.\n     */\n    onRendered: PropTypes.func,\n  };\n\n  static defaultProps = {\n    onRendered() {},\n  };\n\n  componentDidMount() {\n    const { container, onRendered } = this.props;\n\n    this.setContainer(container);\n    this.forceUpdate(onRendered);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { container } = this.props;\n\n    if (prevProps.container !== container) {\n      this.setContainer(container);\n      this.forceUpdate();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mountNode = null;\n  }\n\n  setContainer(container) {\n    this.mountNode = getContainer(container, getOwnerDocument(this).body);\n  }\n\n  getMountNode = () => this.mountNode;\n\n  render() {\n    const { children } = this.props;\n\n    return this.mountNode ? ReactDOM.createPortal(children, this.mountNode) : null;\n  }\n}\n"]}